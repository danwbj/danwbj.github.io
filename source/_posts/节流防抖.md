---
title: 什么是节流防抖？有什么区别？如何实现？
date: 2021-04-23 11:16:18
tags: [javascript]
category: [javascript]
---

- 防抖

  触发高频事件之后，在n秒后只执行一次，在n秒内如果再次触发，就会重新计算时间

  实现思路：在n秒内触发删除之前旧的定时器

  ```javascript
  function debounce(fn, interval) {
      let time = null;
      return function () {
          clearInterval(this);
          time = setTimeout(() => {
              fn.apply(this, arguments);
          }, interval)
      }
  }
  
  function testfn() {
      console.log("hello");
  }
  debounce(testfn, 500);
  ```

  

- 节流

  触发高频事件之后，在n秒内只执行一次

  实现思路：每次执行之前先判断是否有正在执行的定时器，定时器执行完成之后才允许再次触发执行

  ```javascript
  function throttle(fn, interval) {
      let canRun = true;
      return function () {
          if (!canRun) return;
          canRun = false;
          setTimeout(() => {
              fn.apply(this, arguments);
              canRun = true;
          }, interval)
      }
  }
  
  function testfn() {
      console.log("hello");
  }
  throttle(testfn, 500);
  ```

